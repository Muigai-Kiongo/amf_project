{% extends "base.html" %}
{% block title %}Budgets{% endblock %}
{% block content %}
<h2 class="mb-4"><i class="fa-solid fa-wallet"></i> Budgets</h2>
<a href="{% url 'budget-create' %}" class="btn btn-primary mb-3">
    <i class="fa-solid fa-plus"></i> Add Budget
</a>
<table class="table table-striped table-hover align-middle shadow-sm">
    <thead class="table-dark">
        <tr>
            <th>Name</th>
            <th>Period</th>
            <th>Total (KES)</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for budget in budgets %}
        <tr>
            <td>
                <a href="{% url 'budget-detail' budget.pk %}" class="fw-bold">
                    <i class="fa-solid fa-file-invoice-dollar text-info"></i> {{ budget.name }}
                </a>
            </td>
            <td>
                <span class="badge bg-secondary">{{ budget.period_start }}</span>
                <span class="mx-1 text-muted">to</span>
                <span class="badge bg-secondary">{{ budget.period_end }}</span>
            </td>
            <td>
                <span class="badge bg-primary fs-6">{{ budget.total_amount|floatformat:2 }}</span>
            </td>
            <td>
                <a href="{% url 'budget-update' budget.pk %}" class="btn btn-sm btn-outline-warning me-1">
                    <i class="fa-solid fa-pen"></i> Edit
                </a>
                <a href="{% url 'budget-delete' budget.pk %}" class="btn btn-sm btn-outline-danger">
                    <i class="fa-solid fa-trash"></i> Delete
                </a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="4" class="text-center text-muted">No budgets yet.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}